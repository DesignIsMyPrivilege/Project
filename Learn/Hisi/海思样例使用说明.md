# 海思样例使用说明

## NNIE

`sample_nnie_main.c`为入口函数、`sample_nnie.c`为主要实现文件、`sample_svp_nnie_software.c`为软件后处理（结果微调、显示、打印等等）

`sample_nnie.c`中的函数结构：

`sample_svp_nnie_rfcn`函数

>1. start vi vpss vo
>
>>`SAMPLE_COMM_IVE_StartViVpssVencVo`
>>
>>>`SAMPLE_COMM_IVE_VbInit`
>>>
>>>> `SAMPLE_COMM_SYS_Init`
>>>>
>>>> >`HI_MPI_VB_SetConfig`
>>>> >
>>>> >`HI_MPI_VB_Init`
>>>> >
>>>> >`HI_MPI_SYS_Init`
>>>
>>>`SAMPLE_COMM_VI_SetParam`
>>>
>>>>`HI_MPI_SYS_GetVIVPSSMode`
>>>>
>>>>`HI_MPI_SYS_SetVIVPSSMode`
>>>
>>>`SAMPLE_COMM_VI_StartVi`
>>>
>>>>`SAMPLE_COMM_VI_StartMIPI`
>>>>
>>>>`SAMPLE_COMM_VI_SetParam`
>>>>
>>>>`SAMPLE_COMM_VI_CreateVi`
>>>>
>>>>`SAMPLE_COMM_VI_CreateIsp`
>>>
>>>`SAMPLE_COMM_IVE_StartVpss`
>>>
>>>>`SAMPLE_COMM_VPSS_Start`
>>>>
>>>>>`HI_MPI_VPSS_CreateGrp`
>>>
>>>`SAMPLE_COMM_VI_Bind_VPSS`
>>>
>>>>`HI_MPI_SYS_Bind`
>>>
>>>`HI_MPI_VI_GetChnAttr`
>>>
>>>`HI_MPI_VI_SetChnAttr`
>>>
>>>`SAMPLE_COMM_IVE_StartVo`
>>>
>>>>`HI_MPI_VO_SetPubAttr\Enable\`
>>>>
>>>>`HI_MPI_HDMI_Init\Open\GetAttr\SetAttr\Start`
>>>>
>>>>`SAMPLE_COMM_Vo_GetWH`
>>>>
>>>>`HI_MPI_VO_SetDisplayBuflen`
>>>>
>>>>`HI_MPI_VO_SetVideoLayerAttr\EnableVideoLayer`
>>>>
>>>>`SAMPLE_COMM_VO_StartChn`
>>>>
>>>>>`HI_MPI_VO_GetVideoLayerAttr`
>>>>>
>>>>>`HI_MPI_VO_SetVChnAttr\EnableChn`
>
>2. initialization nnie parameter
>
>>`sample_comm_svp_nnie_loadmodel`
>>
>>> `HI_MPI_SVP_NNIE_LoadModel`
>>
>>`sample_svp_nnie_rfcn_paraminit`
>>
>>>`sample_comm_svp_nnie_paraminit` 初始化硬件参数
>>>
>>>>`sample_svp_nnie_paraminit` nnie参数初始化
>>>>
>>>>>`sample_svp_nnie_fillforwardinfo`
>>>>>
>>>>>`sample_svp_nnie_GetTaskandBlobBufSize`
>>>>>
>>>>>>`HI_MPI_SVP_NNIE_GetTskBufSize`
>>>>>
>>>>>`Sample_comm_svp_MallocCached`
>>>>>
>>>>>>`HI_MPI_SYS_MmzAlloc_Cached`
>>>>>
>>>>>`sample_comm_svp_flushCache`
>>>>>
>>>>>>`HI_MPI_SYS_MmzFlushCache`
>>>
>>>`sample_svp_nnie_rfcn_softwareinit` 初始化软件参数
>>>
>>>> initialization rpn parameter
>>>>
>>>> `Sample_comm_svp_MallocCached`
>>>>
>>>> `sample_comm_svp_flushCache`
>
>3. create work
>
>>`sample_svp_nnie_rfcn_vitovo`
>>
>>>`HI_MPI_VPSS_GetChnFrame`
>>>
>>>`SAMPLE_SVP_NNIE_Rfcn_Proc`
>>>
>>>>`sample_svp_nnie_forward`
>>>>
>>>>>`HI_MPI_SVP_NNIE_Forward` nnie forward
>>>>
>>>>`sample_svp_nnie_rfcn_rpn`
>>>>
>>>>this function is used to do rpn
>>>>
>>>>>`SVP_NNIE_Rpn`
>>>>>
>>>>>this function is used to do RPN
>>>>
>>>>`sample_svp_nnie_forwardwithBbox`
>>>>
>>>>>`HI_MPI_SVP_NNIE_ForwardwithBbox`
>>>>
>>>>`sample_svp_nnie_rfcn_getresult`
>>>>
>>>>this function is used to get RFCN result
>>>>
>>>>>`SVP_NNIE_Rfcn_GetResult`
>>>>>
>>>>>this function is used to get RFCN result
>>>>
>>>>`sample_svp_nnie_roi to rect`
>>>>
>>>>this function is used to get RFCN result
>>>
>>>`sample_comm_svp_nnie_fillrect`
>>>
>>>draw rect
>>>
>>>>`HI_MPI_VGS_BeginJob`
>>>>
>>>>`HI_MPI_VGS_AddCoverTask`
>>>>
>>>>`HI_MPI_VGS_EndJob`
>>>
>>>`HI_MPI_VO_SendFrame` 将视频图像送入指定输出通道显示

## 海思高清视频显示

